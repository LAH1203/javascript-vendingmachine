(()=>{"use strict";var t={44:(t,n,e)=>{e.d(n,{Z:()=>s});var i=e(537),r=e.n(i),o=e(645),a=e.n(o)()(r());a.push([t.id,'#app{width:600px;min-height:675px;height:100%;margin:32px 0;background-color:#fff;border:1px solid #0000001f;border-radius:4px}#main{display:flex;flex-direction:column;align-items:center}input{padding:0 10px;height:36px;border:1px solid #b4b4b4;border-radius:4px}input::placeholder{color:#b8b8b8}.input-description{display:block;line-height:24px;margin-bottom:4px}.title{margin:44px 0 32px}.section-title{text-align:center;margin-bottom:16px;font-size:20px}.nav{margin-bottom:52px}.nav__button{width:117px;height:36px;background:#f5f5f5;border-radius:4px}.nav__button.active{background:#00bcd429}.nav__button:hover{background-color:#00bcd429}.grid-container{display:grid;grid-template-columns:repeat(2, 1fr);grid-auto-rows:40px}.grid-item{display:flex;justify-content:center;align-items:center;border-bottom:1px solid #dcdcdc}.grid-header{font-weight:600;border-top:1px solid #dcdcdc}.grid-button{width:80px;height:32px}.submit-button{width:56px;height:36px;background:#00bcd4;border-radius:4px;color:#fff;margin-left:8px}.input-section{margin-bottom:48px}.signin-button{position:absolute;margin-top:12px;margin-left:460px}.thumbnail{position:absolute;margin-top:12px;margin-left:530px;width:40px;height:40px;border-radius:50%;background:#d6f4f8}.select-box{position:absolute;margin-top:60px;margin-left:490px;background:#fff;border:1px solid #0000001f;border-radius:3px;width:100px;text-align:center;animation:selectBoxFadeout .3s}.select-box__item{width:100px;height:35px;background:none}.select-box__item:hover{background:#00bcd429}.select-box.active{animation:selectBoxFadein .3s}@keyframes selectBoxFadein{from{opacity:0;top:20px}to{opacity:1;top:33px}}@keyframes selectBoxFadeout{from{opacity:1;top:33px}to{opacity:0;top:20px}}.hide{display:none !important}.product-addition__input{width:120px}.product-inventory__container{grid-template-columns:repeat(5, 1fr);margin-bottom:48px}.product-inventory__input{width:85px;border:0;text-align:center;outline:0}.product-inventory__input:focus:read-write{outline:solid #00bcd4;background:#00bcd429}.coin-charge__input{width:300px}.coin-charge__form{margin-bottom:20px}.coin-holdings{width:237px;margin:auto}.purchase-cash-charge__input{width:300px}.purchase-cash-charge__form{margin-bottom:20px}.product-status__container{grid-template-columns:repeat(4, 1fr);margin-bottom:60px}.return-coin{width:237px;margin:auto;text-align:center}.return-coin__button{width:100px;height:32px;margin:16px 0 36px}#sign-in,#sign-up,#user-info-edit{display:flex;flex-direction:column;align-items:center;text-align:center}.sign-in__title,.sign-up__title,.user-info-edit__title{margin:44px 0 48px}.sign-in__form,.sign-up__form,.user-info-edit__form{width:300px}.sign-in__description,.sign-up__description,.user-info-edit__description{text-align:start}.sign-in__input,.sign-up__input,.user-info-edit__input{width:100%;margin-bottom:16px}.sign-in__input:read-only,.sign-up__input:read-only,.user-info-edit__input:read-only{background:#e0e0e0;color:#8b8b8b}.sign-in__button,.sign-up__button,.user-info-edit__button{width:100%;height:36px;margin:14px 0;background:#00bcd4;color:#fff}.sign-in__link-sign-up,.sign-up__link-sign-up,.user-info-edit__link-sign-up{background:none;color:#3581d7}#snackbar{visibility:hidden;min-width:250px;margin-left:-125px;background-color:#333;color:#fff;text-align:center;border-radius:2px;padding:16px;position:fixed;z-index:1;left:50%;bottom:30px}#snackbar.show{visibility:visible;animation:fadein .5s,fadeout .5s 1.5s}@keyframes fadein{from{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@keyframes fadeout{from{bottom:30px;opacity:1}to{bottom:0;opacity:0}}*{margin:0;padding:0;box-sizing:border-box;font-family:"Roboto";font-style:normal}ol,ul{list-style:none}html,body{-webkit-font-smoothing:antialiased;background-color:#f9f9f9;display:flex;flex-direction:column;align-items:center}input,button,textarea,select{font:inherit}button{cursor:pointer;border:0}input[type=number]::-webkit-outer-spin-button,input[type=number]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}',"",{version:3,sources:["webpack://./src/scss/app.scss","webpack://./src/scss/variable.scss","webpack://./src/scss/product-management.scss","webpack://./src/scss/coin-charge.scss","webpack://./src/scss/product-purchase.scss","webpack://./src/scss/sign.scss","webpack://./src/scss/snackbar.scss","webpack://./src/scss/index.scss"],names:[],mappings:"AAEA,KACE,WAAA,CACA,gBAAA,CACA,WAAA,CACA,aAAA,CACA,qBAAA,CACA,0BAAA,CACA,iBAAA,CAGF,MACE,YAAA,CACA,qBAAA,CACA,kBAAA,CAGF,MACE,cAAA,CACA,WAAA,CACA,wBAAA,CACA,iBAAA,CAEA,mBACE,aCbsB,CDiB1B,mBACE,aAAA,CACA,gBAAA,CACA,iBAAA,CAGF,OACE,kBAAA,CAGF,eACE,iBAAA,CACA,kBAAA,CACA,cAAA,CAGF,KACE,kBAAA,CAEA,aACE,WAAA,CACA,WAAA,CACA,kBCnCmB,CDoCnB,iBAAA,CAEA,oBACE,oBCtDkB,CDyDpB,mBACE,0BC1DkB,CDgEtB,gBACE,YAAA,CACA,oCAAA,CACA,mBAAA,CAGF,WACE,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,+BAAA,CAGF,aACE,eAAA,CACA,4BAAA,CAGF,aACE,UAAA,CACA,WAAA,CAIJ,eACE,UAAA,CACA,WAAA,CACA,kBC5FoB,CD6FpB,iBAAA,CACA,UC7EwB,CD8ExB,eAAA,CAGF,eACE,kBAAA,CAGF,eACE,iBAAA,CACA,eAAA,CACA,iBAAA,CAGF,WACE,iBAAA,CACA,eAAA,CACA,iBAAA,CACA,UAAA,CACA,WAAA,CACA,iBAAA,CACA,kBCjHqB,CDoHvB,YACE,iBAAA,CACA,eAAA,CACA,iBAAA,CACA,eAAA,CACA,0BAAA,CACA,iBAAA,CACA,WAAA,CACA,iBAAA,CACA,8BAAA,CAEA,kBACE,WAAA,CACA,WAAA,CACA,eAAA,CAEA,wBACE,oBCtIkB,CD0ItB,mBACE,6BAAA,CAIJ,2BACE,KACE,SAAA,CACA,QAAA,CAEF,GACE,SAAA,CACA,QAAA,CAAA,CAIJ,4BACE,KACE,SAAA,CACA,QAAA,CAEF,GACE,SAAA,CACA,QAAA,CAAA,CAIJ,MACE,uBAAA,CEpKA,yBACE,WAAA,CAKF,8BACE,oCAAA,CACA,kBAAA,CAGF,0BACE,UAAA,CACA,QAAA,CACA,iBAAA,CACA,SAAA,CAEA,2CACE,qBAAA,CACA,oBDrBkB,CAAA,oBECpB,WAAA,CAGF,mBACE,kBAAA,CAIJ,eACE,WAAA,CACA,WAAA,CCXA,6BACE,WAAA,CAGF,4BACE,kBAAA,CAKF,2BACE,oCAAA,CACA,kBAAA,CAIJ,aACE,WAAA,CACA,WAAA,CACA,iBAAA,CAEA,qBACE,WAAA,CACA,WAAA,CACA,kBAAA,CCvBJ,kCAGE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,iBAAA,CAMA,uDACE,kBAAA,CAGF,oDACE,WAAA,CAGF,yEACE,gBAAA,CAGF,uDACE,UAAA,CACA,kBAAA,CAEA,qFACE,kBJlB4B,CImB5B,aJlB4B,CIsBhC,0DACE,UAAA,CACA,WAAA,CACA,aAAA,CACA,kBJxCkB,CIyClB,UJxBsB,CI2BxB,4EACE,eAAA,CACA,aJ3BoB,CKjBxB,UACE,iBAAA,CACA,eAAA,CACA,kBAAA,CACA,qBLe0B,CKd1B,ULe0B,CKd1B,iBAAA,CACA,iBAAA,CACA,YAAA,CACA,cAAA,CACA,SAAA,CACA,QAAA,CACA,WAAA,CAEA,eACE,kBAAA,CACA,qCAAA,CAIJ,kBACE,KACE,QAAA,CACA,SAAA,CAEF,GACE,WAAA,CACA,SAAA,CAAA,CAIJ,mBACE,KACE,WAAA,CACA,SAAA,CAEF,GACE,QAAA,CACA,SAAA,CAAA,CCrCJ,EACE,QAAA,CACA,SAAA,CACA,qBAAA,CACA,oBAAA,CACA,iBAAA,CAGF,MAEE,eAAA,CAGF,UAEE,kCAAA,CACA,wBNfsB,CMgBtB,YAAA,CACA,qBAAA,CACA,kBAAA,CAGF,6BAIE,YAAA,CAGF,OACE,cAAA,CACA,QAAA,CAGF,4FAEE,uBAAA,CACA,QAAA",sourcesContent:["@import 'variable';\n\n#app {\n  width: 600px;\n  min-height: 675px;\n  height: 100%;\n  margin: 32px 0;\n  background-color: $color-app-background;\n  border: 1px solid $color-app-border;\n  border-radius: 4px;\n}\n\n#main {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\ninput {\n  padding: 0 10px;\n  height: 36px;\n  border: 1px solid $color-input-background;\n  border-radius: 4px;\n\n  &::placeholder {\n    color: $color-input-placeholder;\n  }\n}\n\n.input-description {\n  display: block;\n  line-height: 24px;\n  margin-bottom: 4px;\n}\n\n.title {\n  margin: 44px 0 32px;\n}\n\n.section-title {\n  text-align: center;\n  margin-bottom: 16px;\n  font-size: 20px;\n}\n\n.nav {\n  margin-bottom: 52px;\n\n  &__button {\n    width: 117px;\n    height: 36px;\n    background: $color-button-default;\n    border-radius: 4px;\n\n    &.active {\n      background: $color-brand-secondary;\n    }\n\n    &:hover {\n      background-color: $color-brand-secondary;\n    }\n  }\n}\n\n.grid {\n  &-container {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    grid-auto-rows: 40px;\n  }\n\n  &-item {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-bottom: 1px solid $color-grid-border;\n  }\n\n  &-header {\n    font-weight: 600;\n    border-top: 1px solid $color-grid-border;\n  }\n\n  &-button {\n    width: 80px;\n    height: 32px;\n  }\n}\n\n.submit-button {\n  width: 56px;\n  height: 36px;\n  background: $color-brand-primary;\n  border-radius: 4px;\n  color: $color-button-text-color;\n  margin-left: 8px;\n}\n\n.input-section {\n  margin-bottom: 48px;\n}\n\n.signin-button {\n  position: absolute;\n  margin-top: 12px;\n  margin-left: 460px;\n}\n\n.thumbnail {\n  position: absolute;\n  margin-top: 12px;\n  margin-left: 530px;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background: $color-brand-tertiary;\n}\n\n.select-box {\n  position: absolute;\n  margin-top: 60px;\n  margin-left: 490px;\n  background: white;\n  border: 1px solid $color-app-border;\n  border-radius: 3px;\n  width: 100px;\n  text-align: center;\n  animation: selectBoxFadeout 0.3s;\n\n  &__item {\n    width: 100px;\n    height: 35px;\n    background: none;\n\n    &:hover {\n      background: $color-brand-secondary;\n    }\n  }\n\n  &.active {\n    animation: selectBoxFadein 0.3s;\n  }\n}\n\n@keyframes selectBoxFadein {\n  from {\n    opacity: 0;\n    top: 20px;\n  }\n  to {\n    opacity: 1;\n    top: 33px;\n  }\n}\n\n@keyframes selectBoxFadeout {\n  from {\n    opacity: 1;\n    top: 33px;\n  }\n  to {\n    opacity: 0;\n    top: 20px;\n  }\n}\n\n.hide {\n  display: none !important;\n}\n","$color-brand-primary: #00bcd4;\n$color-brand-secondary: #00bcd429;\n$color-brand-tertiary: #d6f4f8;\n\n$color-page-background: #f9f9f9;\n\n$color-app-border: #0000001f;\n$color-app-background: #ffffff;\n\n$color-grid-border: #dcdcdc;\n\n$color-input-background: #b4b4b4;\n$color-input-placeholder: #b8b8b8;\n$color-input-readonly-background: #e0e0e0;\n$color-input-readonly-text-color: #8b8b8b;\n\n$color-button-default: #f5f5f5;\n$color-button-text-color: #ffffff;\n\n$color-link-text-color: #3581d7;\n\n$color-snackbar-background: #333333;\n$color-snackbar-text-color: #ffffff;\n","@import 'variable';\n\n.product-addition {\n  &__input {\n    width: 120px;\n  }\n}\n\n.product-inventory {\n  &__container {\n    grid-template-columns: repeat(5, 1fr);\n    margin-bottom: 48px;\n  }\n\n  &__input {\n    width: 85px;\n    border: 0;\n    text-align: center;\n    outline: 0;\n\n    &:focus:read-write {\n      outline: solid $color-brand-primary;\n      background: $color-brand-secondary;\n    }\n  }\n}\n",".coin-charge {\n  &__input {\n    width: 300px;\n  }\n\n  &__form {\n    margin-bottom: 20px;\n  }\n}\n\n.coin-holdings {\n  width: 237px;\n  margin: auto;\n}\n",".purchase-cash-charge {\n  &__input {\n    width: 300px;\n  }\n\n  &__form {\n    margin-bottom: 20px;\n  }\n}\n\n.product-status {\n  &__container {\n    grid-template-columns: repeat(4, 1fr);\n    margin-bottom: 60px;\n  }\n}\n\n.return-coin {\n  width: 237px;\n  margin: auto;\n  text-align: center;\n\n  &__button {\n    width: 100px;\n    height: 32px;\n    margin: 16px 0 36px;\n  }\n}\n","@import 'variable';\n\n#sign-in,\n#sign-up,\n#user-info-edit {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n}\n\n.sign-in,\n.sign-up,\n.user-info-edit {\n  &__title {\n    margin: 44px 0 48px;\n  }\n\n  &__form {\n    width: 300px;\n  }\n\n  &__description {\n    text-align: start;\n  }\n\n  &__input {\n    width: 100%;\n    margin-bottom: 16px;\n\n    &:read-only {\n      background: $color-input-readonly-background;\n      color: $color-input-readonly-text-color;\n    }\n  }\n\n  &__button {\n    width: 100%;\n    height: 36px;\n    margin: 14px 0;\n    background: $color-brand-primary;\n    color: $color-button-text-color;\n  }\n\n  &__link-sign-up {\n    background: none;\n    color: $color-link-text-color;\n  }\n}\n","@import 'variable';\n\n#snackbar {\n  visibility: hidden;\n  min-width: 250px;\n  margin-left: -125px;\n  background-color: $color-snackbar-background;\n  color: $color-snackbar-text-color;\n  text-align: center;\n  border-radius: 2px;\n  padding: 16px;\n  position: fixed;\n  z-index: 1;\n  left: 50%;\n  bottom: 30px;\n\n  &.show {\n    visibility: visible;\n    animation: fadein 0.5s, fadeout 0.5s 1.5s;\n  }\n}\n\n@keyframes fadein {\n  from {\n    bottom: 0;\n    opacity: 0;\n  }\n  to {\n    bottom: 30px;\n    opacity: 1;\n  }\n}\n\n@keyframes fadeout {\n  from {\n    bottom: 30px;\n    opacity: 1;\n  }\n  to {\n    bottom: 0;\n    opacity: 0;\n  }\n}\n","@import 'app', 'product-management', 'coin-charge', 'product-purchase', 'sign',\n  'variable', 'snackbar';\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  font-family: 'Roboto';\n  font-style: normal;\n}\n\nol,\nul {\n  list-style: none;\n}\n\nhtml,\nbody {\n  -webkit-font-smoothing: antialiased;\n  background-color: $color-page-background;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\ninput,\nbutton,\ntextarea,\nselect {\n  font: inherit;\n}\n\nbutton {\n  cursor: pointer;\n  border: 0;\n}\n\ninput[type='number']::-webkit-outer-spin-button,\ninput[type='number']::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n"],sourceRoot:""}]);const s=a},645:t=>{t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e="",i=void 0!==n[5];return n[4]&&(e+="@supports (".concat(n[4],") {")),n[2]&&(e+="@media ".concat(n[2]," {")),i&&(e+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),e+=t(n),i&&(e+="}"),n[2]&&(e+="}"),n[4]&&(e+="}"),e})).join("")},n.i=function(t,e,i,r,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(i)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var d=0;d<t.length;d++){var u=[].concat(t[d]);i&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),e&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=e):u[2]=e),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),n.push(u))}},n}},537:t=>{t.exports=function(t){var n=t[1],e=t[3];if(!e)return n;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),o="/*# ".concat(r," */"),a=e.sources.map((function(t){return"/*# sourceURL=".concat(e.sourceRoot||"").concat(t," */")}));return[n].concat(a).concat([o]).join("\n")}return[n].join("\n")}},379:t=>{var n=[];function e(t){for(var e=-1,i=0;i<n.length;i++)if(n[i].identifier===t){e=i;break}return e}function i(t,i){for(var o={},a=[],s=0;s<t.length;s++){var c=t[s],d=i.base?c[0]+i.base:c[0],u=o[d]||0,A="".concat(d," ").concat(u);o[d]=u+1;var p=e(A),l={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)n[p].references++,n[p].updater(l);else{var h=r(l,i);i.byIndex=s,n.splice(s,0,{identifier:A,updater:h,references:1})}a.push(A)}return a}function r(t,n){var e=n.domAPI(n);return e.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap&&n.supports===t.supports&&n.layer===t.layer)return;e.update(t=n)}else e.remove()}}t.exports=function(t,r){var o=i(t=t||[],r=r||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=e(o[a]);n[s].references--}for(var c=i(t,r),d=0;d<o.length;d++){var u=e(o[d]);0===n[u].references&&(n[u].updater(),n.splice(u,1))}o=c}}},569:t=>{var n={};t.exports=function(t,e){var i=function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}},216:t=>{t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},565:(t,n,e)=>{t.exports=function(t){var n=e.nc;n&&t.setAttribute("nonce",n)}},795:t=>{t.exports=function(t){var n=t.insertStyleElement(t);return{update:function(e){!function(t,n,e){var i="";e.supports&&(i+="@supports (".concat(e.supports,") {")),e.media&&(i+="@media ".concat(e.media," {"));var r=void 0!==e.layer;r&&(i+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),i+=e.css,r&&(i+="}"),e.media&&(i+="}"),e.supports&&(i+="}");var o=e.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(i,t,n.options)}(n,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}},655:t=>{t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}}},n={};function e(i){var r=n[i];if(void 0!==r)return r.exports;var o=n[i]={id:i,exports:{}};return t[i](o,o.exports,e),o.exports}e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{var t=e(379),n=e.n(t),i=e(795),r=e.n(i),o=e(569),a=e.n(o),s=e(565),c=e.n(s),d=e(216),u=e.n(d),A=e(655),p=e.n(A),l=e(44),h={};h.styleTagTransform=p(),h.setAttributes=c(),h.insert=a().bind(null,"head"),h.domAPI=r(),h.insertStyleElement=u(),n()(l.Z,h),l.Z&&l.Z.locals&&l.Z.locals;var m,C,g,f=function(t,n,e,i){if("a"===e&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!i:!n.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?i:"a"===e?i.call(t):i?i.value:n.get(t)},b=function(t,n,e,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!r:!n.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(t,e):r?r.value=e:n.set(t,e),e};class _{constructor(){m.set(this,void 0),C.set(this,void 0),g.set(this,!1)}get userInfo(){return f(this,C,"f")}get accessToken(){return f(this,m,"f")}get isSignIn(){return f(this,g,"f")}signIn(t,n){b(this,g,!0,"f"),b(this,C,t,"f"),b(this,m,null!=n?n:f(this,m,"f"),"f")}signOut(){b(this,g,!1,"f"),b(this,C,{email:"",name:"",password:""},"f"),b(this,m,"","f")}}m=new WeakMap,C=new WeakMap,g=new WeakMap;const v=[500,100,50,10],E={MIN:100,MAX:1e4,UNIT:10},w={MIN:1,MAX:1e5,UNIT:10},y={MIN:1,MAX:1e4,UNIT:10},x={MIN_NAME_LENGTH:2,MAX_NAME_LENGTH:6,MIN_PASSWORD_LENGTH:8},I=(t,n=document)=>n.querySelector(t),k=(t,n=document)=>n.querySelectorAll(t),S=(t,n)=>{t.replaceChildren(),t.insertAdjacentHTML("beforeend",n)},B=t=>{const n=I("#snackbar");n.textContent=t,n.classList.toggle("show"),setTimeout((()=>{n.classList.toggle("show")}),2e3)};var U,R,D=function(t,n,e,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!r:!n.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(t,e):r?r.value=e:n.set(t,e),e},M=function(t,n,e,i){if("a"===e&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!i:!n.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?i:"a"===e?i.call(t):i?i.value:n.get(t)};class T{constructor(){U.set(this,void 0),R.set(this,void 0),D(this,U,0,"f"),D(this,R,{},"f"),v.forEach((t=>{M(this,R,"f")[t]=0}))}get totalCash(){return M(this,U,"f")}get coins(){return M(this,R,"f")}addCash(t){D(this,U,M(this,U,"f")+t,"f"),this.addCoins(t)}addCoins(t){for(;t>0;){const e=(n=v,Math.floor(Math.random()*n.length)),i=v[e];i>t||(M(this,R,"f")[i]+=1,t-=i)}var n}subCoins(t){Object.keys(M(this,R,"f")).forEach((n=>{M(this,R,"f")[n]-=t[n],this.addCash(-t[n]*Number(n))}))}}U=new WeakMap,R=new WeakMap;var N,$=function(t,n,e,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!r:!n.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(t,e):r?r.value=e:n.set(t,e),e},L=function(t,n,e,i){if("a"===e&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!i:!n.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?i:"a"===e?i.call(t):i?i.value:n.get(t)};class P{constructor(t){N.set(this,void 0),$(this,N,t,"f")}get name(){return L(this,N,"f").name}get product(){return L(this,N,"f")}editProduct(t){$(this,N,t,"f")}}N=new WeakMap;const O={ERROR_SAME_PRODUCT:"이미 동일한 이름의 상품이 존재합니다.",ERROR_OVER_MAX_LENGTH:"상품명을 10글자 이하로 입력해주세요.",ERROR_INVALID_PRICE:`가격은 ${E.MIN}원 이상 ${E.MAX.toLocaleString()}원 이하여야 하며, ${E.UNIT}으로 나누어 떨어져야 합니다.`,ERROR_OVER_MAX_QUANTITY:"상품 수량은 1개 이상 20개 이하로 입력해주세요.",ERROR_EMPTY_VALUE:"상품 정보를 공백 없이 입력해주세요.",ERROR_INVALID_CASH:`금액은 ${w.MAX.toLocaleString()}원 이하여야 하며, ${w.UNIT}으로 나누어 떨어져야 합니다.`,ERROR_INVALID_PURCHASE_CASH:`금액은 ${y.MAX.toLocaleString()}원 이하여야 하며, ${y.UNIT}으로 나누어 떨어져야 합니다.`,ERROR_LACK_CASH:"금액이 부족합니다.",ERROR_USER_INFO_EMPTY:"모든 값을 입력해주세요.",ERROR_USER_NAME_LENGTH:`사용자 이름은 ${x.MIN_NAME_LENGTH}~${x.MAX_NAME_LENGTH}자 이내여야 합니다.`,ERROR_USER_PASSWORD_LENGTH:`비밀번호는 ${x.MIN_PASSWORD_LENGTH}자 이상이어야 합니다.`,ERROR_USER_CONFIRM_PASSWORD:"비밀번호가 다릅니다. 다시 입력해주세요.",CONFIRM_DELETE_PRODUCT:"을(를) 삭제하시겠습니까?",CONFIRM_SIGNOUT:"로그아웃하시겠습니까?",SUCCESS_ADD_PRODUCT:"추가되었습니다.",SUCCESS_EDIT_PRODUCT:"수정되었습니다.",SUCCESS_DELETE_PRODUCT:"삭제되었습니다.",SUCCESS_CHARGE_CASH:"충전되었습니다.",SUCCESS_CHARGE_PURCHASE_CASH:"투입되었습니다.",SUCCESS_RETURN_COINS:"반환되었습니다.",FAIL_RETURN_COINS:"반환할 돈이 없습니다.",SUCCESS_SIGNIN:"로그인에 성공하였습니다. 메인 화면으로 이동합니다.",FAIL_SIGNIN:"로그인에 실패하였습니다. 다시 시도해주세요.",SUCCESS_SIGNUP:"회원가입에 성공하였습니다. 로그인 화면으로 이동합니다.",FAIL_SIGNUP:"회원가입에 실패하였습니다. 다시 시도해주세요.",SUCCESS_EDIT_USER_INFO:"회원정보 수정에 성공하였습니다. 메인 화면으로 이동합니다.",FAIL_EDIT_USER_INFO:"회원정보 수정에 실패하였습니다. 다시 시도해주세요.",SUCCESS_SIGNOUT:"로그아웃되었습니다."},H=(t,n)=>{const{MIN:e,MAX:i,UNIT:r}=n;return!(t>=e&&t<=i&&t%r==0)},F=t=>{let n;return{isEmpty:Object.keys(t).some((e=>(n=e,"number"==typeof t[e]?Number.isNaN(t[e]):""===t[e].trim()))),target:n}},G=(t,n,e=null)=>t.some((t=>t.name!==e&&t.name===n.name));var W,j=function(t,n,e,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!r:!n.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(t,e):r?r.value=e:n.set(t,e),e},q=function(t,n,e,i){if("a"===e&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!i:!n.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?i:"a"===e?i.call(t):i?i.value:n.get(t)};class J{constructor(){W.set(this,void 0),j(this,W,[],"f")}get products(){return q(this,W,"f")}addProduct(t){q(this,W,"f").push(new P(t))}deleteProduct(t){j(this,W,q(this,W,"f").filter((n=>n.name!==t)),"f")}editProduct(t,n){q(this,W,"f").forEach((e=>{e.name===t&&e.editProduct(n)}))}validateProductInput(t,n=null){((t,n,e=null)=>{const i=((t,n,e=null)=>{return[{test:F(n).isEmpty,errorMsg:O.ERROR_EMPTY_VALUE,target:F(n).target},{test:G(t,n,e),errorMsg:O.ERROR_SAME_PRODUCT,target:"name"},{test:(r=n.name,r.length>10),errorMsg:O.ERROR_OVER_MAX_LENGTH,target:"name"},{test:H(n.price,E),errorMsg:O.ERROR_INVALID_PRICE,target:"price"},{test:(i=n.quantity,i>20||i<=0),errorMsg:O.ERROR_OVER_MAX_QUANTITY,target:"quantity"}];var i,r})(t,n,e);i.every((({test:t,errorMsg:n,target:e})=>{if(t){const t=new Error(n);throw t.name=e,t}return!0}))})(q(this,W,"f"),t,n)}}W=new WeakMap;var X,K=function(t,n,e,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!r:!n.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(t,e):r?r.value=e:n.set(t,e),e},Q=function(t,n,e,i){if("a"===e&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!i:!n.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?i:"a"===e?i.call(t):i?i.value:n.get(t)};class Y{constructor(){X.set(this,void 0),K(this,X,0,"f")}get cash(){return Q(this,X,"f")}addCash(t){K(this,X,Q(this,X,"f")+t,"f")}returnCoins(t){const n={};return v.forEach((e=>{const i=Math.min(Math.floor(Q(this,X,"f")/e),t[e]);n[e]=i,this.addCash(-i*e)})),n}}X=new WeakMap;class V{constructor(t){this.coinDomain=t,this.render()}render(){S(I(".coin-holdings__container"),this.template())}template(){const{coins:t}=this.coinDomain;return'\n      <div class="coin-holdings__item grid-item grid-header">동전</div>\n      <div class="coin-holdings__item grid-item grid-header">개수</div>\n    '+Object.keys(t).reverse().map((n=>`\n          <div class="coin-holdings__item grid-item">${n}원</div>\n          <div class="coin-holdings__item grid-item">${t[n]}개</div>\n        `)).join("")}}var z,Z,tt,nt,et,it=function(t,n,e,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!r:!n.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(t,e):r?r.value=e:n.set(t,e),e},rt=function(t,n,e,i){if("a"===e&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!i:!n.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?i:"a"===e?i.call(t):i?i.value:n.get(t)};z=new WeakMap,Z=new WeakMap,tt=new WeakMap,nt=new WeakMap,et=new WeakMap;const ot=new class{constructor(){z.set(this,void 0),Z.set(this,void 0),tt.set(this,void 0),nt.set(this,void 0),et.set(this,void 0)}set mainUI(t){it(this,z,t,"f")}set productInventoryUI(t){it(this,Z,t,"f")}set coinHoldingsUI(t){it(this,tt,t,"f")}set purchaseCashChargeUI(t){it(this,nt,t,"f")}set signInUI(t){it(this,et,t,"f")}renderMainUI(t){rt(this,z,"f").renderInitPage(t)}renderSignInUI(){rt(this,et,"f").render()}renderProducts(){rt(this,Z,"f").render()}renderCoins(){rt(this,tt,"f").render()}renderPurchaseCash(){rt(this,nt,"f").render()}renderUserUI(t){rt(this,z,"f").renderUserUI(t)}renderUserName(t){rt(this,z,"f").renderUserName(t)}};class at{constructor(t){this.submitHandler=t=>{if(t.preventDefault(),!(t.target instanceof HTMLFormElement))return;const n=t.target.elements.namedItem("cashInput").valueAsNumber;try{(t=>{if(H(t,w))throw new Error(O.ERROR_INVALID_CASH)})(n)}catch({message:t}){return void B(t)}this.coinDomain.addCash(n),I(".coin-charge__total-cash").textContent=this.coinDomain.totalCash,ot.renderCoins(),B(O.SUCCESS_CHARGE_CASH)},this.coinDomain=t,I(".coin-charge__form").addEventListener("submit",this.submitHandler),I(".coin-charge__input").focus()}}class st{constructor(t){this.coinDomain=t}render(){S(I("#main-content"),this.template()),this.bindDOM()}template(){return`\n      <section class="coin-charge input-section">\n        <h2 hidden>충전할 금액 입력</h2>\n        <form class="coin-charge__form">\n          <label\n            class="coin-charge__description input-description"\n            for="cash-amount"\n          >\n            자판기가 보유할 금액을 입력해주세요.\n          </label>\n          <input\n            type="number"\n            id="cash-amount"\n            class="coin-charge__input"\n            placeholder="금액"\n            name="cashInput"\n          />\n          <button class="coin-charge__button submit-button">충전</button>\n        </form>\n        <p class="coin-charge__total-cash-description">현재 보유 금액: <span class="coin-charge__total-cash">${this.coinDomain.totalCash}</span>원</p>\n      </section>\n      <section class="coin-holdings">\n        <h2 class="coin-holdings__title section-title">자판기가 보유한 동전</h2>\n        <div class="coin-holdings__container grid-container"></div>\n      </section>\n    `}bindDOM(){new at(this.coinDomain);const t=new V(this.coinDomain);ot.coinHoldingsUI=t}}class ct{constructor(t){this.submitHandler=t=>{if(t.preventDefault(),!(t.target instanceof HTMLFormElement))return;const n=t.target.elements,e={name:n.namedItem("name"),price:n.namedItem("price"),quantity:n.namedItem("quantity")},i={name:e.name.value,price:e.price.valueAsNumber,quantity:e.quantity.valueAsNumber};try{this.productDomain.validateProductInput(i)}catch({name:t,message:n}){return this.focusOnInvalidInput(t,e),void B(n)}this.productDomain.addProduct(i),ot.renderProducts(),B(O.SUCCESS_ADD_PRODUCT)},this.productDomain=t,I(".product-addition__form").addEventListener("submit",this.submitHandler),I(".product-addition__input").focus()}focusOnInvalidInput(t,n){switch(t){case"name":n.name.focus();break;case"price":n.price.focus();break;case"quantity":n.quantity.focus()}}}class dt{constructor(t){this.enterForEditHandler=t=>{if("Enter"!==t.key)return;if(!(t.target instanceof HTMLElement))return;const n=I(`button[data-product-name="${t.target.dataset.productName}"][title="수정"]`);this.finishEditMode(n)},this.buttonClickHandler=t=>{const{target:n}=t;if(n instanceof HTMLButtonElement)switch(n.innerText){case"수정":this.activateEditMode(n);break;case"확인":this.finishEditMode(n);break;case"삭제":const{productName:t}=n.dataset;if(!confirm(`🥤${t}🥤${O.CONFIRM_DELETE_PRODUCT}`))return;this.deleteProduct(t)}},this.$container=I(".product-inventory__container"),this.productDomain=t,this.render(),this.$container.addEventListener("click",this.buttonClickHandler)}render(){S(this.$container,this.template()),k(".product-inventory__input").forEach((t=>t.addEventListener("keydown",this.enterForEditHandler)))}template(){const{products:t}=this.productDomain;return'\n      <div class="product-inventory__item grid-item grid-header">\n        상품명\n      </div>\n      <div class="product-inventory__item grid-item grid-header">\n        가격(원)\n      </div>\n      <div class="product-inventory__item grid-item grid-header">\n        수량\n      </div>\n      <div class="product-inventory__item grid-item grid-header"></div>\n      <div class="product-inventory__item grid-item grid-header"></div>\n    '+t.map((t=>{const{name:n,price:e,quantity:i}=t.product;return`\n          <div class="product-inventory__item grid-item" data-product-name="${n}">\n            <input class="product-inventory__input" value="${n}" data-product-name="${n}" readonly />\n          </div>\n          <div class="product-inventory__item grid-item" data-product-name="${n}">\n            <input type="number" class="product-inventory__input" value="${e}" data-product-name="${n}" readonly />\n          </div>\n          <div class="product-inventory__item grid-item" data-product-name="${n}">\n            <input type="number" class="product-inventory__input" value="${i}" data-product-name="${n}" readonly />\n          </div>\n          <div class="product-inventory__item grid-item" data-product-name="${n}">\n            <button\n              type="button"\n              title="수정"\n              data-product-name="${n}"\n              class="product-inventory__button product-inventory__edit-button grid-button"\n            >\n              수정\n            </button>\n          </div>\n          <div class="product-inventory__item grid-item" data-product-name="${n}">\n            <button\n              type="button"\n              title="삭제"\n              data-product-name="${n}"\n              class="product-inventory__button product-inventory__delete-button grid-button"\n            >\n              삭제\n            </button>\n          </div>\n        `})).join("")}activateEditMode(t){t.innerText="확인";const n=k(`input[data-product-name="${t.dataset.productName}"]`);n.forEach((t=>{t.removeAttribute("readonly")})),n[0].focus();const e=n[0].value.length;n[0].setSelectionRange(e,e),n[0].scrollLeft=30*e,I(`button[data-product-name="${t.dataset.productName}"][title="삭제"]`).setAttribute("hidden","")}deactivateEditMode(t){t.innerText="수정",k(`input[data-product-name="${t.dataset.productName}"]`).forEach((t=>{t.setAttribute("readonly","")})),I(`button[data-product-name="${t.dataset.productName}"][title="삭제"]`).removeAttribute("hidden")}finishEditMode(t){const n=t.dataset.productName,e=k(`input[data-product-name="${n}"]`),i={name:e[0].value,price:e[1].valueAsNumber,quantity:e[2].valueAsNumber};try{this.productDomain.validateProductInput(i,n)}catch({message:t}){return void B(t)}this.productDomain.editProduct(t.dataset.productName,i),this.deactivateEditMode(t),ot.renderProducts(),B(O.SUCCESS_EDIT_PRODUCT)}deleteProduct(t){this.productDomain.deleteProduct(t),k(`div[data-product-name="${t}"]`).forEach((t=>t.remove())),B(O.SUCCESS_DELETE_PRODUCT)}}class ut{constructor(t){this.productDomain=t}render(){S(I("#main-content"),this.template()),this.bindDOM()}template(){return'\n      <section class="product-addition input-section">\n        <h2 hidden>추가할 상품 입력</h2>\n        <form class="product-addition__form">\n          <label\n            class="product-addition__description input-description"\n            for="product-name"\n          >\n            추가할 상품 정보를 입력해주세요.\n          </label>\n          <input\n            id="product-name"\n            class="product-addition__input"\n            name="name"\n            placeholder="상품명"\n          />\n          <input\n            type="number"\n            class="product-addition__input"\n            name="price"\n            placeholder="가격"\n          />\n          <input\n            type="number"\n            class="product-addition__input"\n            name="quantity"\n            placeholder="수량"\n          />\n          <button class="product-addition__button submit-button">추가</button>\n        </form>\n      </section>\n      <section class="product-inventory">\n        <h2 class="product-inventory__title section-title">상품 현황</h2>\n        <div class="product-inventory__container grid-container"></div>\n      </section>\n    '}bindDOM(){new ct(this.productDomain);const t=new dt(this.productDomain);ot.productInventoryUI=t}}class At{constructor(t,n){this.purchaseButtonClickHandler=t=>{const{target:n}=t;if(!(n instanceof HTMLButtonElement))return;const{productName:e,productPrice:i,productQuantity:r}=n.dataset;this.purchaseCashDomain.cash<i?B(O.ERROR_LACK_CASH):(this.productDomain.editProduct(e,{name:e,price:i,quantity:Number(r)-1}),this.purchaseCashDomain.addCash(-i),ot.renderPurchaseCash(),this.render())},this.$container=I(".product-status__container"),this.productDomain=t,this.purchaseCashDomain=n,this.render(),this.$container.addEventListener("click",this.purchaseButtonClickHandler)}render(){S(this.$container,this.template())}template(){const{products:t}=this.productDomain;return'\n      <div class="product-status__item grid-item grid-header">\n        상품명\n      </div>\n      <div class="product-status__item grid-item grid-header">\n        가격(원)\n      </div>\n      <div class="product-status__item grid-item grid-header">\n        수량\n      </div>\n      <div class="product-status__item grid-item grid-header"></div>\n    '+t.map((t=>{const{name:n,price:e,quantity:i}=t.product;return i<=0?"":`\n          <div class="product-status__item grid-item">${n}</div>\n          <div class="product-status__item grid-item">${e}</div>\n          <div class="product-status__item grid-item">${i}</div>\n          <div class="product-status__item grid-item">\n            <button\n              type="button"\n              title="구매"\n              data-product-name="${n}"\n              data-product-price=${e}\n              data-product-quantity=${i}\n              class="product-status__button product-status__edit-button grid-button"\n            >\n              구매\n            </button>\n          </div>\n        `})).join("")}}class pt{constructor(t){this.submitHandler=t=>{if(t.preventDefault(),!(t.target instanceof HTMLFormElement))return;const n=t.target.elements.namedItem("cashInput").valueAsNumber;try{(t=>{if(H(t,y))throw new Error(O.ERROR_INVALID_PURCHASE_CASH)})(n)}catch({message:t}){return void B(t)}this.purchaseCashDomain.addCash(n),this.render(),B(O.SUCCESS_CHARGE_PURCHASE_CASH)},this.purchaseCashDomain=t,I(".purchase-cash-charge__form").addEventListener("submit",this.submitHandler),I(".purchase-cash-charge__input").focus()}render(){I(".purchase-cash-charge__total-cash").textContent=this.purchaseCashDomain.cash}}class lt{constructor(t,n){this.returnButtonClickHandler=()=>{if(this.purchaseCashDomain.cash<=0)return void B(O.FAIL_RETURN_COINS);const t=this.purchaseCashDomain.returnCoins(this.coinDomain.coins);this.coinDomain.subCoins(t),this.render(t),ot.renderPurchaseCash(),B(O.SUCCESS_RETURN_COINS)},this.coinDomain=t,this.purchaseCashDomain=n;const e=v.reduce(((t,n)=>(t[n]=0,t)),{});this.render(e),I(".return-coin__button").addEventListener("click",this.returnButtonClickHandler)}render(t){S(I(".return-coin__container"),this.template(t))}template(t){return'\n      <div class="return-coin__item grid-item grid-header">동전</div>\n      <div class="return-coin__item grid-item grid-header">개수</div>\n    '+Object.keys(t).reverse().map((n=>`\n          <div class="return-coin__item grid-item">${n}원</div>\n          <div class="return-coin__item grid-item">${t[n]}개</div>\n        `)).join("")}}class ht{constructor(t,n,e){this.productDomain=t,this.coinDomain=n,this.purchaseCashDomain=e}render(){S(I("#main-content"),this.template()),this.bindDOM()}template(){return`\n      <section class="purchase-cash-charge input-section">\n        <h2 hidden>구매할 금액 투입</h2>\n        <form class="purchase-cash-charge__form">\n          <label\n            class="purchase-cash-charge__description input-description"\n            for="cash-amount"\n          >\n            상품을 구매할 금액을 투입해주세요.\n          </label>\n          <input\n            type="number"\n            id="cash-amount"\n            class="purchase-cash-charge__input"\n            placeholder="금액"\n            name="cashInput"\n          />\n          <button class="purchase-cash-charge__button submit-button">투입</button>\n        </form>\n        <p class="purchase-cash-charge__total-cash-description">현재 보유 금액: <span class="purchase-cash-charge__total-cash">${this.purchaseCashDomain.cash}</span>원</p>\n      </section>\n      <section class="product-status">\n        <h2 class="product-status__title section-title">구매 가능 상품 현황</h2>\n        <div class="product-status__container grid-container"></div>\n      </section>\n      <section class="return-coin">\n        <h2 class="return-coin__title section-title">잔돈 반환</h2>\n        <div class="return-coin__container grid-container"></div>\n        <button class="return-coin__button">반환</button>\n      </section>\n    `}bindDOM(){const t=new pt(this.purchaseCashDomain);new At(this.productDomain,this.purchaseCashDomain),new lt(this.coinDomain,this.purchaseCashDomain),ot.purchaseCashChargeUI=t}}class mt{constructor(){this.productDomain=new J,this.coinDomain=new T,this.purchaseCashDomain=new Y,this.productManagementUI=new ut(this.productDomain),this.coinManagementUI=new st(this.coinDomain),this.productPurchaseUI=new ht(this.productDomain,this.coinDomain,this.purchaseCashDomain)}renderInitPage(t=!1){I("#main").classList.remove("hide"),I("#sign-in").classList.add("hide"),I("#sign-up").classList.add("hide"),I("#user-info-edit").classList.add("hide"),t?this.renderProductManagementUI():this.renderProductPurchaseUI()}renderProductManagementUI(){this.productManagementUI.render()}renderCoinManagementUI(){this.coinManagementUI.render()}renderProductPurchaseUI(){this.productPurchaseUI.render()}renderUserUI(t=""){this.renderUserName(t),[I(".nav"),I(".signin-button"),I(".thumbnail")].forEach((t=>{t.toggleAttribute("hidden")}))}renderUserName(t=""){I(".thumbnail").textContent=t.substring(0,1)}}var Ct=function(t,n,e,i){return new(e||(e=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,s)}c((i=i.apply(t,n||[])).next())}))};const gt="https://heroku-vending-lv1.herokuapp.com",ft=(t,n)=>Ct(void 0,void 0,void 0,(function*(){const e=`${gt}/${"signup"===t?"register":"login"}`;let i;return yield fetch(e,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((t=>Ct(void 0,void 0,void 0,(function*(){if(!t.ok)throw new Error;yield t.json().then((t=>{i=t}))})))),i}));class bt{constructor(t){this.submitHandler=t=>{if(t.preventDefault(),!(t.target instanceof HTMLFormElement))return;const n={email:t.target.elements.namedItem("email").value,password:t.target.elements.namedItem("password").value};this.signIn(n)},this.userDomain=t,I(".sign-in__form").addEventListener("submit",this.submitHandler)}render(){I("#main").classList.add("hide"),I("#sign-in").classList.remove("hide"),I("#sign-up").classList.add("hide"),I("#user-info-edit").classList.add("hide"),I("#sign-in-email").focus()}signIn(t){ft("signin",t).then((t=>{const{user:n,accessToken:e}=t;this.userDomain.signIn(n,e),k(".sign-in__input").forEach((t=>{t.value=""})),B(O.SUCCESS_SIGNIN),ot.renderUserUI(n.name),ot.renderMainUI(this.userDomain.isSignIn),history.replaceState({},"",`${It}/`)})).catch((()=>{B(O.FAIL_SIGNIN)}))}}const _t=(t,n)=>{const{email:e,name:i,password:r}=t;return!(e&&i&&r&&n)},vt=t=>{const{MIN_NAME_LENGTH:n,MAX_NAME_LENGTH:e}=x;return t.length<n||t.length>e},Et=(t,n)=>t!==n,wt=(t,n)=>{const e=((t,n)=>{return[{test:_t(t,n),errorMsg:O.ERROR_USER_INFO_EMPTY},{test:vt(t.name),errorMsg:O.ERROR_USER_NAME_LENGTH},{test:(e=t.password,e.length<x.MIN_PASSWORD_LENGTH),errorMsg:O.ERROR_USER_PASSWORD_LENGTH},{test:Et(t.password,n),errorMsg:O.ERROR_USER_CONFIRM_PASSWORD}];var e})(t,n);return e.every((({test:t,errorMsg:n})=>{if(t)throw new Error(n);return!0}))};class yt{constructor(){this.submitHandler=t=>{if(t.preventDefault(),!(t.target instanceof HTMLFormElement))return;const n=t.target.elements.namedItem("email").value,e=t.target.elements.namedItem("name").value,i=t.target.elements.namedItem("password").value,r=t.target.elements.namedItem("confirm-password").value,o={email:n,name:e,password:i};try{wt(o,r)}catch({message:t}){return void B(t)}this.signUp(o)},I(".sign-up__form").addEventListener("submit",this.submitHandler)}render(){I("#main").classList.add("hide"),I("#sign-in").classList.add("hide"),I("#sign-up").classList.remove("hide"),I("#user-info-edit").classList.add("hide"),I("#sign-up-email").focus()}signUp(t){ft("signup",t).then((()=>{k(".sign-up__input").forEach((t=>{t.value=""})),B(O.SUCCESS_SIGNUP),ot.renderSignInUI(),history.pushState({},"",`${It}/signin`)})).catch((()=>{B(O.FAIL_SIGNUP)}))}}class xt{constructor(t){this.submitHandler=t=>{if(t.preventDefault(),!(t.target instanceof HTMLFormElement))return;const n=t.target.elements.namedItem("email").value,e=t.target.elements.namedItem("name").value,i=t.target.elements.namedItem("password").value,r=t.target.elements.namedItem("confirm-password").value,o={email:n,name:e,password:i};try{wt(o,r)}catch({message:t}){return void B(t)}this.editUserInfo(o)},this.userDomain=t,I(".user-info-edit__form").addEventListener("submit",this.submitHandler)}render(){I("#main").classList.add("hide"),I("#sign-in").classList.add("hide"),I("#sign-up").classList.add("hide"),I("#user-info-edit").classList.remove("hide"),I("#user-info-edit-email").value=this.userDomain.userInfo.email,I("#user-info-edit-name").focus()}editUserInfo(t){((t,n)=>Ct(void 0,void 0,void 0,(function*(){const e=`${gt}/users/${n}`;let i;return yield fetch(e,{method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((t=>Ct(void 0,void 0,void 0,(function*(){if(!t.ok)throw new Error;yield t.json().then((t=>{i=t}))})))),i})))(t,this.userDomain.userInfo.id).then((t=>{this.userDomain.signIn(t),k(".user-info-edit__input").forEach((t=>{t.value=""}));const n=I(".select-box");n.classList.add("hide"),n.classList.remove("active"),B(O.SUCCESS_EDIT_USER_INFO),ot.renderUserName(t.name),ot.renderMainUI(this.userDomain.isSignIn),history.replaceState({},"",`${It}/`)})).catch((()=>{B(O.FAIL_EDIT_USER_INFO)}))}}const It="/javascript-vendingmachine";new class{constructor(t=new _,n=new mt,e=new bt(t),i=new yt,r=new xt(t)){this.userDomain=t,this.mainUI=n,this.signInUI=e,this.signUpUI=i,this.userInfoEditUI=r,this.navClickHandler=({target:t})=>{if("BUTTON"!==t.tagName)return;const n=`${It}${t.dataset.pathname}`;n!==location.pathname&&(history.pushState({},"",n),this.activateClickedButton(t.dataset.pathname),this.renderPage(t.dataset.pathname))},this.popStateHandler=()=>{const t=location.pathname.split("/"),n=`/${t[t.length-1]}`;this.activateClickedButton(n),this.renderPage(n)},this.signInClickHandler=()=>{const t=`${It}/signin`;history.pushState({},"",t),this.signInUI.render()},this.signUpClickHandler=()=>{const t=`${It}/signup`;history.pushState({},"",t),this.signUpUI.render()},this.selectBoxClickHandler=t=>{if(t.target instanceof HTMLButtonElement)switch(t.target.name){case"edit-button":const t=`${It}/edit`;history.pushState({},"",t),this.userInfoEditUI.render();break;case"signout-button":if(!confirm(O.CONFIRM_SIGNOUT))return;this.userDomain.signOut(),this.mainUI.renderInitPage(),this.mainUI.renderUserUI(),this.thumbnailClickHandler(),B(O.SUCCESS_SIGNOUT)}},this.mainUI.renderInitPage(),this.bindEvents(),ot.mainUI=this.mainUI,ot.signInUI=this.signInUI}bindEvents(){I(".nav").addEventListener("click",this.navClickHandler),window.addEventListener("popstate",this.popStateHandler),I(".signin-button").addEventListener("click",this.signInClickHandler),I(".sign-in__link-sign-up").addEventListener("click",this.signUpClickHandler),I(".thumbnail").addEventListener("click",this.thumbnailClickHandler),I(".select-box").addEventListener("click",this.selectBoxClickHandler)}thumbnailClickHandler(){const t=I(".select-box");t.classList.toggle("active"),setTimeout((()=>{t.classList.toggle("hide")}),300)}activateClickedButton(t){k(".nav__button").forEach((n=>{n.dataset.pathname!==t?n.classList.remove("active"):n.classList.add("active")}))}renderPage(t){if(this.mainUI.renderInitPage(),this.userDomain.isSignIn||"/signin"===t||"/signup"===t)switch(t){case"/":this.mainUI.renderProductManagementUI();break;case"/charge":this.mainUI.renderCoinManagementUI();break;case"/purchase":this.mainUI.renderProductPurchaseUI();break;case"/signin":this.signInUI.render();break;case"/signup":this.signUpUI.render();break;case"/edit":this.userInfoEditUI.render()}}}})()})();
//# sourceMappingURL=bundle.js.map